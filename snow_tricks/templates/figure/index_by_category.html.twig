{% extends 'base.html.twig' %}

{% block title %}Figures dans la catégorie {{ category.name|capitalize }}{% endblock %}

{% block body %}

    <h1>Figures dans la catégorie {{ category.name|capitalize }}</h1>

    {% if figures is empty %}

        <h2>Désolé...</h2>
        <p>Il n'y a pas encore de figure dans cette catégorie. Revenez un peu plus tard !</p>

    {% else %}

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4 mt-0" id="figures-grid">
            {% include '_parts/figure_grid.part.twig' %}
        </div>

        {% if pageTotal != 1 %}
            <div class="justify-content-center text-center">
                <a id="load-more" class="btn btn-primary btn-lg mt-4" href="/loadmore-bycategory/{{ category.id }}-{{ category.slug }}/2">
                    <i class="bi bi-arrow-clockwise"></i> Voir plus
                </a>
            </div>
        {% endif %}

    {% endif %}

    <script id="load-more-script" data-page-total="{{ pageTotal }}" data-page-href="loadmore-bycategory/{{ category.id }}-{{ category.slug }}" src="{{ asset('assets/js/load-more-figure.js') }}"></script>

{% endblock %}
